<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux入门-基础教程 | 艾利克斯工作室</title><meta name="description" content="1. 1 Linux操作系统简介Linux是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX和UNIX的多用户、多任务、支持多线程和多CPU的操作系统。它能运行主要的UNIX工具软件、应用程序和网络协议。它支持32位和64位硬件。Linux继承了Unix以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。  1991年的10月5日，Linux创始人林纳斯·托瓦兹（Linus"><meta name="keywords" content="Linux"><meta name="author" content="Alexis (KangJ)"><meta name="copyright" content="Alexis (KangJ)"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://programmer996.club/2020/03/22/Linux%E5%85%A5%E9%97%A8-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="Linux入门-基础教程"><meta property="og:url" content="https://programmer996.club/2020/03/22/Linux%E5%85%A5%E9%97%A8-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"><meta property="og:site_name" content="艾利克斯工作室"><meta property="og:description" content="1. 1 Linux操作系统简介Linux是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX和UNIX的多用户、多任务、支持多线程和多CPU的操作系统。它能运行主要的UNIX工具软件、应用程序和网络协议。它支持32位和64位硬件。Linux继承了Unix以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。  1991年的10月5日，Linux创始人林纳斯·托瓦兹（Linus"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-03-22T02:28:10.000Z"><meta property="article:modified_time" content="2020-03-22T03:14:52.000Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="prev" title="Linux Shell编程-基础教程" href="https://programmer996.club/2020/03/22/Linux-Shell%E7%BC%96%E7%A8%8B-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"><link rel="next" title="Flask-PYTHON Web框架" href="https://programmer996.club/2020/03/21/Flask-PYTHON-Web%E6%A1%86%E6%9E%B6/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"Press","message_next":"to bookmark this page"},"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isSidebar: true,
  postUpdate: '2020-03-22 11:14:52'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="艾利克斯工作室" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">45</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">10</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">16</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/book/"><i class="fa-fw fas fa-gift"></i><span> book</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/welfare/"><i class="fa-fw fas fa-gift"></i><span> Welfare</span></a></li><li><a class="site-page" href="/Case/"><i class="fa-fw fas fa-briefcase"></i><span> Case</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/Cooperation/"><i class="fa-fw fas fa-briefcase"></i><span> Cooperation</span></a></div><div class="menus_item"><a class="site-page" href="/handshake/"><i class="fa-fw fas fa-eye"></i><span> handshake</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-1-Linux操作系统简介"><span class="toc-number">1.</span> <span class="toc-text">1. 1 Linux操作系统简介</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-2-Linux发展趋势"><span class="toc-number">2.</span> <span class="toc-text">1. 2 Linux发展趋势</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-Linux系统安装"><span class="toc-number">3.</span> <span class="toc-text">1. 3      Linux系统安装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-4-Linux学习技巧"><span class="toc-number">4.</span> <span class="toc-text">1. 4      Linux学习技巧</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Linux系统篇"><span class="toc-number">5.</span> <span class="toc-text">1.   Linux系统篇</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-1-Linux系统管理"><span class="toc-number">6.</span> <span class="toc-text">2.1            Linux系统管理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-1-1-Linux目录初识"><span class="toc-number">7.</span> <span class="toc-text">2.1. 1         Linux目录初识</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-1-2-Linux必备命令"><span class="toc-number">8.</span> <span class="toc-text">2.1. 2         Linux必备命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-1-3-Linux用户权限管理"><span class="toc-number">9.</span> <span class="toc-text">2.1. 3         Linux用户权限管理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-1-4-Linux网络配置管理"><span class="toc-number">10.</span> <span class="toc-text">2.1. 4         Linux网络配置管理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-1-5-Linux软件包管理必备命令"><span class="toc-number">11.</span> <span class="toc-text">2.1. 5         Linux软件包管理必备命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Linux服务篇"><span class="toc-number">12.</span> <span class="toc-text">2.   Linux服务篇</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-1-Linux服务部署"><span class="toc-number">13.</span> <span class="toc-text">3.1            Linux服务部署</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-1-1-构建NTP时间服务器"><span class="toc-number">14.</span> <span class="toc-text">3.1. 1         构建NTP时间服务器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-1-2-构建DHCP服务器"><span class="toc-number">15.</span> <span class="toc-text">3.1. 2         构建DHCP服务器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-1-3-搭建Samba服务器"><span class="toc-number">16.</span> <span class="toc-text">3.1. 3         搭建Samba服务器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-1-4-搭建NFS服务器"><span class="toc-number">17.</span> <span class="toc-text">3.1. 4         搭建NFS服务器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-1-5-搭建FTP服务器"><span class="toc-number">18.</span> <span class="toc-text">3.1. 5         搭建FTP服务器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#FTP主被动模式"><span class="toc-number">19.</span> <span class="toc-text">FTP主被动模式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#FTP主动模式："><span class="toc-number">20.</span> <span class="toc-text">FTP主动模式：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#FTP被动模式："><span class="toc-number">21.</span> <span class="toc-text">FTP被动模式：</span></a></li></ol></div></div></div><div class="code-close" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">艾利克斯工作室</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/book/"><i class="fa-fw fas fa-gift"></i><span> book</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/welfare/"><i class="fa-fw fas fa-gift"></i><span> Welfare</span></a></li><li><a class="site-page" href="/Case/"><i class="fa-fw fas fa-briefcase"></i><span> Case</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/Cooperation/"><i class="fa-fw fas fa-briefcase"></i><span> Cooperation</span></a></div><div class="menus_item"><a class="site-page" href="/handshake/"><i class="fa-fw fas fa-eye"></i><span> handshake</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Linux入门-基础教程</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2020-03-22 10:28:10"><i class="far fa-calendar-alt fa-fw"></i> Created 2020-03-22</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2020-03-22 11:14:52"><i class="fas fa-history fa-fw"></i> Updated 2020-03-22</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/">基础教程</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta__icon"></i><span>Word count:</span><span class="word-count">8k</span><span class="post-meta__separator">|</span><i class="far fa-clock fa-fw post-meta__icon"></i><span>Reading time: 28 min</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="far fa-eye fa-fw post-meta__icon"></i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="1-1-Linux操作系统简介"><a href="#1-1-Linux操作系统简介" class="headerlink" title="1. 1 Linux操作系统简介"></a>1. 1 Linux操作系统简介</h1><p>Linux是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX和UNIX的多用户、多任务、支持多线程和多CPU的操作系统。它能运行主要的UNIX工具软件、应用程序和网络协议。它支持32位和64位硬件。Linux继承了Unix以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。</p>
<a id="more"></a>
<p>1991年的10月5日，Linux创始人林纳斯·托瓦兹（Linus Torvalds）在comp.os.minix新闻组上发布消息，正式向外宣布Linux内核的诞生，1994年3月，Linux 1.0发布，代码量17万行，当时是按照完全自由免费的协议发布，随后正式采用GPL（General Public License的缩写，是一份GNU通用公共授权）协议。<br>Linux具有如下优点：<br>稳定、免费或者花费少<br> 安全性高<br>多任务，多用户<br>耗资源少<br>由于内核小，所以它可以支持多种电子产品，如：Android手机、PDA等。</p>
<h1 id="1-2-Linux发展趋势"><a href="#1-2-Linux发展趋势" class="headerlink" title="1. 2 Linux发展趋势"></a>1. 2 Linux发展趋势</h1><p>随着IT产业的不断发展，用户对网站体验要求也越来越高，而目前主流网站后端承载系统都是Linux系统，目前Android手机全部基于Linux内核研发。企业大数据、云存储、虚拟化等先进技术都是基于Linux系统。<br>2010年据有关权威部门统计：将来几年内我国软件行业的从业机会十分庞大，中国每年对软件人才的需求将达到50万人左右。而对于Linux 专业人才的就业前景，更是广阔；据悉在未来5-10年内 Linux 专业人才的需求将达到 120 万+！尤其是有经验的资深的Linux工程师目前非常的缺乏，薪资也是非常诱人，平均月薪都是15-20K，能力强的薪资更高。所以机会对每个人都是公平的，关键是我们每个人如何去行动，选择大于努力。</p>
<h1 id="1-3-Linux系统安装"><a href="#1-3-Linux系统安装" class="headerlink" title="1. 3      Linux系统安装"></a>1. 3      Linux系统安装</h1><p>在安装Linux系统之前，先来了解windows系统结构，windows系统一般是安装在C盘系统盘，同样Linux也有类似的系统盘（/根分区），Linux通常分区为（根分区/、swap分区），Linux系统以文件的存储方式，所有的文件都是存储在某个目录下的，类似于windows的文件夹。<br>对于文件系统的属性来说，windows文件系统类型一般是ntfs、fat32等，而Linux文件系统类型则为ext2、ext3、ext4等（文件系统：是操作系统用于明确磁盘或分区上的文件的方法和数据结构，文件系统由三部分组成：与文件管理有关软件、被管理文件以及实施文件管理所需数据结构。）<br>安装 Linux系统是每一个初学者的第一个门槛。在这个过程中间，最大的困惑莫过于给硬盘进行分区。虽然现在各种发行版本的 Linux 已经提供了友好的图形交互界面，但是很多人还是感觉无从下手。这其中的原因主要是不清楚 Linux 的分区规定。就好比如果我们了解了windows分区的规则，系统盘C、数据盘D等，就很好分区了。<br>在 Linux 中规定，每一个硬盘设备最多只能有 4个主分区（其中包含扩展分区）构成，任何一个扩展分区都要占用一个主分区号码，也就是在一个硬盘中，主分区和扩展分区一共最多是 4 个。<br>下面正式来安装Linux系统，安装系统前需要准备如下软件：<br>VMware workstation 10.0<br>CentOS 5.8 x86_i386.iso<br>安装图解如下：<br>第一步  新建虚拟机<br>第二步，选择相关选项<br>第三步选择“稍后安装操作系统”<br>第四步，选择客户机操作系统类型<br>第五步，设置虚拟机硬盘大小为20G，最低不能小于5G<br>第六步，虚拟机新建完成<br>第七步，修改虚拟机内存为512M，并添加ISO镜像<br>自此，虚拟机新建完成，接下来点击“启动此虚拟机”进行Linux系统安装，Linux系统安装图解如下：<br>第一步，进入安装界面，直接按Enter回车键即可。第二步，光盘检测，选择SKIP跳过。第三步，选择安装过程中的语言，初学者可以选择“简体中文”。第四步，选择初始化整个硬盘，清除所有数据。第五步，选择分区方式为“自定义分区“。第五步，点击“新建“-首先创建一个swap交换分区，大小为物理内存的2倍（1024M）。第六步，继续创建分区，选择“新建“，然后创建根分区/，如下图选择，大小为剩余所有空间即可。第七步，默认点击下一步，同时默认DHCP配置，时钟选择上海，去掉UTC勾，点击下一步。第八步，设置root密码，至少六位，点击下一步。第九步，系统安装包选择，这里选择“现在定制“。第十步，系统安装包选择，左侧选择“开发“—-右侧选择”开发工具“和“开发库”，语言选择“支持中文“，其他一概不选择。安装完毕会提示“reboot“，直接回车即可。</p>
<h1 id="1-4-Linux学习技巧"><a href="#1-4-Linux学习技巧" class="headerlink" title="1. 4      Linux学习技巧"></a>1. 4      Linux学习技巧</h1><p>初学者可以自己安装虚拟机，然后把linux常用命令例如cd、ls、chmod、useradd、vi等等多练习几十遍，把自己敲打命令的熟练程度提升上来。<br>然后根据文档搭建Linux下常见的各种服务（DHCP、SAMBA、DNS、Apache、Mysql等），遇到问题后可以在google搜索，搜索的时候多看几篇文章，综合最好的文章来解决问题。<br>能够熟练的搭建服务后，理解每个服务的完整配置和优化，可以拓展思维。例如LAMP，我们一般是把所有服务放在一台机器上，如果分开多台该如何部署呢？等等。<br>平时多积累shell编程，可以在网上查找前辈们写的非常好的shell，自己下载下来多练习几遍，从中吸取，不断提高。<br>建立一个自己的学习博客，把平时工作学习中的知识都记录在里面，这样也可以供别人来参考同时也能提高自己的编写文档及方案的能力。<br>通过以上学习能够满足企业的一般应有，需要达到资深级别，还需要深入学习集群架构、负载均衡、自动化运维、运维开发等知识。最后还是一句话：多练习才是硬道理！实践出真知！</p>
<h1 id="1-Linux系统篇"><a href="#1-Linux系统篇" class="headerlink" title="1.   Linux系统篇"></a>1.   Linux系统篇</h1><h1 id="2-1-Linux系统管理"><a href="#2-1-Linux系统管理" class="headerlink" title="2.1            Linux系统管理"></a>2.1            Linux系统管理</h1><p>通过前两章的学习，我们已经能够独立安装Linux系统，已经掌握了Linux学习的技巧，那接下来，我们将系统的来了解Linux系统各目录、权限及常用命令的使用。</p>
<h1 id="2-1-1-Linux目录初识"><a href="#2-1-1-Linux目录初识" class="headerlink" title="2.1. 1         Linux目录初识"></a>2.1. 1         Linux目录初识</h1><p>通过前面的学习,我们已经能够独立安装完一个linux系统，那接下来我们来熟悉一下Linux系统里面的各个目录文件夹的大致功能：<br>主要的目录树的有/、/root、/home、/usr、/bin等目录。下面是一个典型的linux目录结构如下：  </p>
<pre><code>/bin 存放必要的命令 
/boot 存放内核以及启动所需的文件
/dev 存放设备文件 
/etc 存放系统配置文件 
/home 普通用户的宿主目录，用户数据存放在其主目录中 
/lib 存放必要的运行库 
/mnt 存放临时的映射文件系统，通常用来挂载使用。
 /proc 存放存储进程和系统信息 
/root 超级用户的主目录 
/sbin 存放系统管理程序 
/tmp 存放临时文件
/usr 存放应用程序，命令程序文件、程序库、手册和其它文档。 
/var 系统默认日志存放目录</code></pre><h1 id="2-1-2-Linux必备命令"><a href="#2-1-2-Linux必备命令" class="headerlink" title="2.1. 2         Linux必备命令"></a>2.1. 2         Linux必备命令</h1><p>默认进入系统，我们会看到这样的字符:   </p>
<pre><code>[root@localhost ~]#,其中#代表当前是root用户登录，如果是$表示当前为普通用户。
我们了解linux由很多目录文件构成，那我们来学习第一个Linux命令：
cd命令， cd  /home  ；解析：进入/home目录
cd /root 进入/root目录 ；cd ../返回上一级目录;cd  ./当前目录；（.和..可以理解为相对路径；例如cd /hom/test ，cd加完整的路径，可以理解为绝对路径）
接下来继续学习更多的命令：
   ls  ./ 查看当前目录所有的文件和目录。
ls  -a 查看所有的文件，包括隐藏文件,以.开头的文件。

pwd显示当前所在的目录。
mkdir创建目录，用法mkdir  test ，命令后接目录的名称。
rmdir 删除空目录
rm 删除文件或者目录，用法 rm –rf  test.txt (-r表示递归，-f表示强制)。
cp 拷贝文件，用法,cp  old.txt  /tmp/new.txt ，常用来备份；如果拷贝目录
需要加 –r参数。

mv 重命名或者移动文件或者目录，用法, mv old.txt new.txt
touch 创建文件，用法，touch test.txt，如果文件存在，则表示修改当前文件时间。
Useradd创建用户，用法 useradd wugk ，userdel删除用户。
Groupadd创建组，用法 groupadd wugk1 ，groupdel删除组。

find查找文件或目录，用法 find  /home  -name  “test.txt”,命令格式为:
find 后接查找的目录，-name指定需要查找的文件名称，名称可以使用*表示所有。
find  /home  -name  “*.txt” ;查找/home目录下，所有以.txt结尾的文件或者目录。
vi 修改某个文件，vi有三种模式：
命令行模式、文本输入模式、末行模式。
默认vi打开一个文件，首先是命令行模式，然后按i进入文本输入模式，可以在文件里写入字符等等信息。
写完后，按esc进入命令模式，然后输入:进入末行模式，例如输入:wq表示保存退出。
如果想直接退出，不保存，可以执行:q!， q!叹号表示强制退出。
cat 查看文件内容，用法 cat test.txt 可以看到test.txt内容
more 查看文件内容，分页查看，cat是全部查看，如果篇幅很多，只能看到最后的篇幅。可以使用cat和more同时使用,例如： cat  test.txt |more 分页显示text内容，|符号是管道符，用于把|前的输出作为后面命令的输入。
echo 回显，用法 echo ok，会显示ok，输入什么就打印什么。
echo  ok  &gt; test.txt ；把ok字符覆盖test.txt内容，&gt;表示追加并覆盖的意思。
&gt;&gt;两个大于符号，表示追加，echo ok &gt;&gt; test.txt,表示向test.txt文件追加OK字符，不覆盖原文件里的内容。
初学者常见的命令就如上所示，当然还有很多深入的命令需要学习，后面的课程会讲解。</code></pre><h1 id="2-1-3-Linux用户权限管理"><a href="#2-1-3-Linux用户权限管理" class="headerlink" title="2.1. 3         Linux用户权限管理"></a>2.1. 3         Linux用户权限管理</h1><p>在Linux操作系统中，root的权限是最高的，相当于windows的administrator，拥有最高权限，能执行任何命令和操作。在系统中，通过UID来区分用户的权限级别，UID等于0，表示此用户具有最高权限，也就是管理员。其他的用户UID依次增加，通过/etc/passwd用户密码文件可以查看到每个用户的独立的UID。<br>每一个文件或者目录的权限，都包含一个用户权限、一个组的权限、其他人权限，例如下：<br>标红第一个root表示该文件所有者是root用户，第二个root代表该文件的所属的组为root组，其他用户这里默认不标出。</p>
<pre><code> [root@node1 ~]# ls -l monitor_log.sh
-rw-r–r– 1 root root 91 May  7 20:21 monitor_log.sh
[root@node1 ~]#
如果我们想改变某个文件的所有者或者所属的组，可以使用命令chown
chown  –R  test:test  monitor_log.sh即可。
每个Linux文件具有四种访问权限：可读(r)、可写(w)、可执行(x)和无权限(-)。
利用ls -l命令可以看到某个文件或目录的权限，它以显示数据的第一个字段为
 准。第一个字段由10个字符组成，如下：
    [root@node1 ~]# ls -l monitor_log.sh
-rw-r–r– 1 root root 91 May  7 20:21 monitor_log.sh
[root@node1 ~]#
    第一位表示文件类型，-表示文件，d表示目录；后面每三位为一组。
   第一组：2-4位表示文件所有者的权限，即用户user权限，简称u
   第二组：5-7位表示文件所有者所属组成员的权限，group权限，简称g
   第三组：8-10位表示所有者所属组之外的用户的权限，other权限，简称o
从上面这个文件，我们可以看出，monito_log.sh文件对应的权限为：
root用户具有读和写的权限，root组具有读的权限，其他人具有读的权限。
为了能更简单快捷的使用和熟悉权限，rwx权限可以用数字来表示，分别表示为r（4）、w（2）、x（1）。
Monitor_log.sh权限可以表示为：644
如果给某个文件授权，命令为chmod：chmod 777 monitor_log.sh</code></pre><h1 id="2-1-4-Linux网络配置管理"><a href="#2-1-4-Linux网络配置管理" class="headerlink" title="2.1. 4         Linux网络配置管理"></a>2.1. 4         Linux网络配置管理</h1><p>熟悉了常用的命令和Linux权限，那接下来如何让所在的Linux系统上网呢？管理linux服务器网络有哪些命令呢？<br>   Linux服务器默认网卡配置文件在/etc/sysconfig/network-scripts/下，命名的名称一般为:ifcfg-eth0 ifcfg-eth1 ，eth0表示第一块网卡，eth1表示第二块网卡，依次类推。一般DELL R720标配有4块千兆网卡。<br>   修改网卡的IP，可以使用命令: vi /etc/sysconfig/network-scripts/ifcfg-eth0 如果是DHCP获取的IP，默认配置如下：</p>
<pre><code># Advanced Micro Devices [AMD] 79c970 [PCnet32 LANCE]
DEVICE=eth0
BOOTPROTO=dhcp
HWADDR=00:0c:29:52:c7:4e
ONBOOT=yes
TYPE=Ethernet
如果是静态配置的IP，ifcfg-eth0网卡配置内容如下：
# Advanced Micro Devices [AMD] 79c970 [PCnet32 LANCE]
DEVICE=eth0
BOOTPROTO=static
HWADDR=00:0c:29:52:c7:4e
ONBOOT=yes
TYPE=Ethernet
IPADDR=192.168.33.10
NETMASK=255.255.255.0
GATEWAY=192.168.33.1
网卡参数详解如下：
DEVICE=eth0   #物理设备名
ONBOOT=yes   # [yes|no]（重启网卡是否激活设备）
BOOTPROTO=static #[none|static|bootp|dhcp]（不使用协议|静态分配|BOOTP协议|DHCP协议）

TYPE=Ethernet  #网卡类型
IPADDR=192.168.33.10 #IP 地址
NETMASK=255.255.255.0 #子网掩码
GATEWAY=192.168.33.1 #网关地址
网卡配置完毕，重启网卡，命令: /etc/init.d/network restart 即可。
查看ip命令：ifconfig 查看当前服务器所有网卡的IP，可以单独指定，ifconfig eth0 查看eth0的IP地址。
网卡配置完毕，如果来配置DNS，首先要知道DNS配置在哪个目录文件下，vi  /etc/resolv.conf 文件:
在该文件里面添加如下两条：
nameserver 202.106.0.20
nameserver 8.8.8.8</code></pre><p>从上到下，分别表示主DNS，备DNS。配置完毕后，不需要重启网卡,DNS立即生效。<br>可以ping <a href="http://www.ai8py.com" target="_blank" rel="noopener">www.ai8py.com</a> 看看效果:IP配置完毕后，我们可以通过远程工具来连接Linux服务器，常见的Linux远程连接工具有:putty、secureCRT（主流）、xshell、xmanger等工具。</p>
<h1 id="2-1-5-Linux软件包管理必备命令"><a href="#2-1-5-Linux软件包管理必备命令" class="headerlink" title="2.1. 5         Linux软件包管理必备命令"></a>2.1. 5         Linux软件包管理必备命令</h1><pre><code>rpm -q 包名
    选项：-q    查询
        -a    查询所有已安装的包
rpm -qi 包名
选项：
    -i  查询软件信息
    -p  查询未安装包信息
rpm -ql 包名
选项：
    -l  列表
    -p  查询未安装包信息
rpm -qR 包名
选项：
    -R  查询软件包的依赖性
    -p  查询未安装包信息
1.挂载packages目录
2.安装必须要输入包全名
rpm -ivh 包全名
选项：
    -i(install)     安装
    -v(verbose)     显示详细信息
    -h(hash)        显示进度
    --nodeps        不检测依赖性
rpm -Uvh 包名
选项：
    -U(upgrade)     升级
rpm -e 包名
选项：
    -e(erase)   卸载</code></pre><h1 id="2-Linux服务篇"><a href="#2-Linux服务篇" class="headerlink" title="2.   Linux服务篇"></a>2.   Linux服务篇</h1><h1 id="3-1-Linux服务部署"><a href="#3-1-Linux服务部署" class="headerlink" title="3.1            Linux服务部署"></a>3.1            Linux服务部署</h1><h1 id="3-1-1-构建NTP时间服务器"><a href="#3-1-1-构建NTP时间服务器" class="headerlink" title="3.1. 1         构建NTP时间服务器"></a>3.1. 1         构建NTP时间服务器</h1><p>NTP服务器是用于局域网服务器时间同步使用的，可以保证局域网所有的服务器与时间服务器的时间保持一致，某些应用对时间实时性要求高的必须统一时间。<br>互联网的时间服务器也有很多，例如ntpdate ntp.fudan.edu.cn 复旦大学的NTP免费提供互联网时间同步。<br>NTP服务器监听端口为UDP的123，那就需要在本地防火墙开启运行客户端访问123端口，vi /etc/sysconfig/iptables添加如下规则：</p>
<pre><code>-A INPUT -m state –state NEW -m udp -p udp –dport 123 -j ACCEPT
NTP时间服务器配置：
yum install ntp ntpdate -y 即可！
修改ntp.conf配置文件
cp  /etp/ntp.conf /etc/ntp.conf.bak
vi /etc/ntp.conf 只修改如下两行，把#号去掉即可！
server 127.127.1.0     # local clock
fudge  127.127.1.0 stratum 10
以守护进程启动ntpd
/etc/init.d/ntpd start 即可
（注意*： ntpd启动后，客户机要等几分钟再与其进行时间同步，否则会提示“no server suitable for synchronization found”错误。）
配置时间同步客户机
crontab -e
增加一行，在每天的6点10分与时间同步服务器进行同步
10 06 * * * /usr/sbin/ntpdate ntp-server的ip &gt;&gt;/usr/local/logs/crontab/ntpdate.log
备注：如果客户机没有ntpdate，可以yum –y install ntp 即可！
以下是ntp服务器配置文件内容(局域网NTP，如果需要跟外网同步，添加外网server即可)
driftfile /var/lib/ntp/drift
restrict default kod nomodify notrap nopeer noquery
restrict -6 default kod nomodify notrap nopeer noquery
restrict 127.0.0.1
restrict -6 ::1
server  127.127.1.0     # local clock
fudge   127.127.1.0 stratum 10
includefile /etc/ntp/crypto/pw
keys /etc/ntp/keys
下面是参数详解：

restrict default ignore    # 关闭所有的 NTP 要求封包
restrict 127.0.0.1    # 开启内部递归网络接口 lo
restrict 192.168.0.0 mask 255.255.255.0 nomodify    #在内部子网里面的客户端可以进行网络校时，但不能修改NTP服务器的时间参数。
server 198.123.30.132    #198.123.30.132作为上级时间服务器参考
restrict 198.123.30.132    #开放server 访问我们ntp服务的权限
driftfile /var/lib/ntp/drift    在与上级时间服务器联系时所花费的时间，记录在driftfile参数后面的文件内
broadcastdelay 0.008    #广播延迟时间
 自此NTP服务搭建完毕，然后在所有客户端crontab里面添加如下语句：
0  0   *  *  * /usr/sbin/ntpdate  10.0.0.155 &gt;&gt;/data/logs/ntp.log 2&gt;&amp;1</code></pre><h1 id="3-1-2-构建DHCP服务器"><a href="#3-1-2-构建DHCP服务器" class="headerlink" title="3.1. 2         构建DHCP服务器"></a>3.1. 2         构建DHCP服务器</h1><p>DHCP(Dynamic Host Configuration Protocol，动态主机配置协议)是一个局域网的网络协议，使用UDP协议工作，主要用途：给内部网络或网络服务供应商自动分配IP地址，DHCP有3个端口，其中UDP67和UDP68为正常的DHCP服务端口，分别作为DHCP Server和DHCP Client的服务端口。<br>DHCP可以部署在服务器、交换机或者服务器，可以控制一段IP地址范围，客户机登录服务器时就可以自动获得DHCP服务器分配的IP地址和子网掩码。其中DHCP所在服务器的需要安装TCP/IP协议，需要设置静态IP地址、子网掩码、默认网关。<br>正式安装DHCP服务：<br>Yum  install  dhcp dhcp-devel –y 即可，然后修改DHCP /etc/dhcpd.conf配置文件内容如下：</p>
<pre><code>ddns-update-style interim;
ignore client-updates;
next-server  192.168.0.79;
filename “pxelinux.0”;
allow booting;
allow bootp; 
subnet 192.168.0.0 netmask 255.255.255.0 {
# — default gateway
option routers          192.168.0.1;
option subnet-mask      255.255.252.0;
#   option nis-domain       “domain.org”;
#  option domain-name “192.168.0.10”;
#   option domain-name-servers  192.168.0.11;
#   option ntp-servers      192.168.1.1;
#   option netbios-name-servers  192.168.1.1;
# — Selects point-to-point node (default is hybrid). Don’t change this unless
# — you understand Netbios very well
#   option netbios-node-type 2;
range  dynamic-bootp  192.168.0.100 192.168.0.200;
host ns {
hardware ethernet  00:1a:a0:2b:38:81;
fixed-address 192.168.0.101;}
}
参数解析如下：

选    项    解    释

ddns-update-style interim|ad-hoc|none     参数用来设置DHCP服务器与DNS服务器的动态信息更新模式：interim为DNS互动更新模式，ad-hoc为特殊DNS更新模式，none为不支持动态更新模式。
next-server ip    pxeclient远程安装系统，指定tftp server 地址
filename    开始启动文件的名称，应用于无盘安装，可以是tftp的相对或绝对路径  
ignore client-updates    为忽略客户端更新
subnet-mask    为客户端设定子网掩码
option routers    为客户端指定网关地址
domain-name    为客户端指明DNS名字
domain-name-servers    为客户端指明DNS服务器的IP地址
host-name    为客户端指定主机名称
broadcast-address    为客户端设定广播地址
ntp-server    为客户端设定网络时间服务器的IP地址
time-offset    为客户端设定格林威治时间的偏移时间，单位是秒
注意如上配置，需要修改成对应服务器网段IP，然后重启DHCP服务，/etc/init.d/dhcpd restart即可。
客户端要从这个DHCP服务器获取IP，需要做简单的设置，如果是linux需要把/etc/sysconfig/network-scritps/ifcfg-eth0里BOOTPROTO相改成dhcp即可，windows机器的话，需要修改本地连接，把它设置成自动获取IP即可。
BOOTPROTO=dhcp</code></pre><h1 id="3-1-3-搭建Samba服务器"><a href="#3-1-3-搭建Samba服务器" class="headerlink" title="3.1. 3         搭建Samba服务器"></a>3.1. 3         搭建Samba服务器</h1><p>Samba是在Linux和UNIX系统上实现SMB协议的一个免费软件，由服务器及客户端程序构成，<br>SMB（Server Messages Block，信息服务块）是一种在局域网上共享文件和打印机的一种通信协议，它为局域网内的不同计算机之间提供文件及打印机等资源的共享服务。<br>SMB协议是客户机/服务器型协议，客户机通过该协议可以访问服务器上的共享文件系统、打印机及其他资源。通过设置“NetBIOS over TCP/IP”使得Samba不但能与局域网络主机分享资源，还能与全世界的电脑分享资源。<br>安装SAMBA服务器：<br>Yum install  samba –y<br>安装完毕，然后做如下设置（过滤#号行、空行如下命令）<br>cp /etc/samba/smb.conf /etc/samba/smb.conf.bak ;egrep -v “#|^$” /etc/samba/smb.conf.bak |grep -v “^;” &gt;/etc/samba/smb.conf<br>查看smb.conf配置文件如下：</p>
<pre><code>[global]
        workgroup = MYGROUP
        server string = Samba Server Version %v
        security = share
        passdb backend = tdbsam
        load printers = yes
        cups options = raw

[temp]
     comment=Temporary file space
     path=/tmp
     read only=no
     public=yes

[data]
     comment=Temporary file space
     path=/data
     read only=no
     public=yes
根据需求修改之后重启服务：
[root@node1 ~]# /etc/init.d/smb restart
Shutting down SMB services:                                [FAILED]
Shutting down NMB services:                                [FAILED]
Starting SMB services:                                     [  OK  ]
Starting NMB services:                                     [  OK  ]


workgroup =    WORKGROUP 设Samba Server 所要加入的工作组或者域。
server string = Samba Server Version %v    Samba Server 的注释，可以是任何字符串，也可以不填。宏%v表示显示Samba的版本号。




security = user    1.share：用户访问Samba Server不需要提供用户名和口令, 安全性能较低。
2. user：Samba Server共享目录只能被授权的用户访问,由Samba Server负责检查账号和密码的正确性。账号和密码要在本Samba Server中建立。
3. server：依靠其他Windows NT/2000或Samba Server来验证用户的账号和密码,是一种代理验证。此种安全模式下,系统管理员可以把所有的Windows用户和口令集中到一个NT系统上,使用Windows NT进行Samba认证, 远程服务器可以自动认证全部用户和口令,如果认证失败,Samba将使用用户级安全模式作为替代的方式。
4. domain：域安全级别,使用主域控制器(PDC)来完成认证。
comment = test    是对该共享的描述，可以是任意字符串。
path = /home/test    共享目录路径
browseable= yes/no     用来指定该共享是否可以浏览。
writable = yes/no    writable用来指定该共享路径是否可写。
available = yes/no    available用来指定该共享资源是否可用
admin users = admin    该共享的管理者
valid users = test    允许访问该共享的用户
invalid users = test    禁止访问该共享的用户
write list = test    允许写入该共享的用户
public = yes/no    public用来指定该共享是否允许guest账户访问。
 在浏览器里面访问方式为：\\192.168.33.10 （SMB文件共享服务端IP），如何没有权限访问，需要注意防火墙和selinux设置，可以使用如下命令关闭：
/etc/init.d/iptables stop ;sed  –i   ‘/SELINUX/s/enforcing/disabled’  /etc/sysconfig/selinux</code></pre><h1 id="3-1-4-搭建NFS服务器"><a href="#3-1-4-搭建NFS服务器" class="headerlink" title="3.1. 4         搭建NFS服务器"></a>3.1. 4         搭建NFS服务器</h1><p>NFS 是Network File System的缩写，即网络文件系统。一种使用于分散式文件系统的协定，由Sun公司开发，于1984年向外公布。功能是通过网络让不同的机器、不同的操作系统能够彼此分享个别的数据，让应用程序在客户端通过网络访问位于服务器磁盘中的数据，是在类Unix系统间实现磁盘文件共享的一种方法。<br>NFS在文件传送或信息传送过程中依赖于RPC协议。RPC，远程过程调用 (Remote Procedure Call) 是能使客户端执行其他系统中程序的一种机制。NFS本身是没有提供信息传输的协议和功能的。<br>NFS应用场景，常用于高可用文件共享，多台服务器共享同样的数据，可扩展性比较差，本身高可用方案不完善，取而代之的数据量比较大的可以采用MFS、TFS、HDFS等等分布式文件系统。<br>NFS安装配置：</p>
<pre><code>Yum  install nfs*  portmap  -y </code></pre><p>安装成功即可。NFS安装完毕，需要创建共享目录，共享目录在/etc/exports文件里面配置，可配置参数如下：</p>
<pre><code>/data/      192.168.33.11(rw,sync,no_hide,no_all_squash)</code></pre><p>在配置文件中添加如上一行，然后重启Portmap，NFS服务即可，/etc/init.d/portmap restart ;/etc/init.d/nfs restart<br>第一列/data/表示需要共享的目录。<br>IP表示允许哪个客户端访问。<br>IP后括号里的设置表示对该共享文件的权限。</p>
<pre><code>ro                      只读访问
rw                      读写访问
sync                    所有数据在请求时写入共享
hide                    在NFS共享目录中不共享其子目录
no_hide                 共享NFS目录的子目录
all_squash              共享文件的UID和GID映射匿名用户anonymous，适合公用目录。
no_all_squash           保留共享文件的UID和GID（默认）
root_squash             root用户的所有请求映射成如anonymous用户一样的权限（默认）
no_root_squas           root用户具有根目录的完全管理访问权限Linux客户端，如何想使用这个NFS文件系统，需要在客户端挂载，挂载命令为：
Mount –t  nfs  192.168.33.10:/data/    /mnt 即可。如果有报错根据错误信息排查。常见问题有rpc服务没有启动、防火墙没关闭、selinux未关闭等问题。（拓展* 有兴趣的童鞋可以研究MFS（分布式文件系统）。）</code></pre><h1 id="3-1-5-搭建FTP服务器"><a href="#3-1-5-搭建FTP服务器" class="headerlink" title="3.1. 5         搭建FTP服务器"></a>3.1. 5         搭建FTP服务器</h1><p>FTP 是文件传输协议，正是由于这种协议使得主机间可以共享文件。 FTP 使用TCP 生成一个虚拟连接用于控制信息，然后再生成一个单独的 TCP 连接用于数据传输。<br>vsftpd是一款在Linux发行版中最主流的FTP服务器程序；特点是小巧轻快，安全易用；能让其自身特点得发发挥和掌握。<br>目前在开源操作系统中常用的FTP服务器程序主要有vsftpd、ProFTPD、PureFTPd和wuftpd等，这么多FTP服务器程序，关键在于自己熟练哪一个就使用哪一个。今天我们来研究一下VSFTPD简单安装及使用。安装命令: </p>
<pre><code>yum  install vsftpd*  -y修改配置文件如下：
#vsftpd config 2014 by wugk
anonymous_enable=NO    //禁止匿名用户访问
local_enable=YES  //允许本地用户登录FTP
write_enable=YES   //运行用户在FTP目录有写入的权限
local_umask=022   //设置本地用户的文件生成掩码为022，默认是077
dirmessage_enable=YES //激活目录信息,当远程用户更改目录时,将出现提示信息
xferlog_enable=YES   //启用上传和下载日志功能
connect_from_port_20=YES  //启用FTP数据端口的连接请求
xferlog_std_format=YES  //是否使用标准的ftpd xferlog日志文件格式
listen=YES  //使vsftpd处于独立启动监听端口模式
pam_service_name=vsftpd //设置PAM认证服务配置文件名称，文件存放在/etc/pam.d/目录
userlist_enable=YES   //用户列表中的用户是否允许登录FTP服务器,默认是不允许
tcp_wrappers=YES    //使用tcp_wrqppers作为主机访问控制方式</code></pre><p>1)    第一种方法就是使用系统用户登录FTP，但是也是比较危险的，先测试系统用户登录FTP，在Linux系统上创建useradd  test 用户，并为其设置名，然后在xp客户端打开我的电脑资源里面访问 <a href="ftp://192.168.33.10，输入用户名和密码即可访问，进行创建和删除操作。">ftp://192.168.33.10，输入用户名和密码即可访问，进行创建和删除操作。</a><br>2)    第二种方法比较安全，配置相对复杂一点，就是使用vsftpd虚拟用户登录FTP服务器进行常见的操作。<br>Ø       首先安装FTP 虚拟用户需要用到的软件及认证模块</p>
<pre><code>yum install pam* db4* –skip-broken –y</code></pre><p>创建并生成vsftpd数据库文件vi /etc/vsftpd/ftpusers.txt，内容如下：<br>第一行为FTP虚拟用户，登录用户名，第二行为密码，第三行为用户名，依次类推。</p>
<pre><code>wugk
1
wugk1
1
Ø       生成数据库文件命令：
db_load -T -t hash -f /etc/vsftpd/ftpusers.txt /etc/vsftpd/vsftpd_login.db
chmod 700 /etc/vsftpd/vsftpd_login.db
Ø       配置PAM验证文件：
在配置文件vi /etc/pam.d/vsftpd 行首加入如下两行认证语句：（如果是32位，lib64需改成lib，如果RedHat，加入的语句不一样，需注意）
auth    sufficient      /lib64/security/pam_userdb.so     db=/etc/vsftpd/vsftpd_login
account sufficient      /lib64/security/pam_userdb.so      db=/etc/vsftpd/vsftpd_login
Ø       创建vsftpd映射本地用户:
所有的FTP虚拟用户需要使用一个系统用户，这个系统用户不需要密码，也不需要登录。主要用来做虚拟用户映射使用。
useradd  –d /home/ftpuser –s /sbin/nologin ftpuser
Ø       修改完整版配置文件内容如下：
anonymous_enable=NO
local_enable=YES
write_enable=YES
local_umask=022
dirmessage_enable=YES
xferlog_enable=YES
connect_from_port_20=YES
xferlog_file=/var/log/vsftpd.log
xferlog_std_format=YES
ascii_upload_enable=YES
ascii_download_enable=YES
listen=YES
guest_enable=YES
guest_username=ftpuser
pam_service_name=vsftpd
user_config_dir=/etc/vsftpd/vsftpd_user_conf
virtual_use_local_privs=YES

   保存重启,/etc/init.d/vsftpd restart 即可使用虚拟用户登录，这时候所有的虚拟用户共同使用/home/ftpuser目录上传下载，如果想使用自己独立的目录，可以在/etc/vsftpd/vsftpd_user_conf目录创建各自的配置文件，如给wugk创建独立的配置文件：
vi /etc/vsftpd/vsftpd_user_conf/wugk ，内容如下，建立自己的FTP目录。
local_root=/home/ftpsite/wugk
write_enable=YES
anon_world_readable_only=YES
anon_upload_enable=YES
anon_mkdir_write_enable=YES
anon_other_write_enable=YES</code></pre><p> 重启，使用客户端登录FTP，测试即可。关于FTP讲解就到此，windows还可以使用Server-U来搭建FTP服务器端，有兴趣的童鞋可以研究一下。</p>
<h1 id="FTP主被动模式"><a href="#FTP主被动模式" class="headerlink" title="FTP主被动模式"></a>FTP主被动模式</h1><h1 id="FTP主动模式："><a href="#FTP主动模式：" class="headerlink" title="FTP主动模式："></a>FTP主动模式：</h1><p>客户端从一个任意的非特权端口N（N&gt;1024）连接到FTP服务器的port 21命令端口。然后客户端开始监听端口N+1，并发送FTP命令“port N+1”到FTP服务器。接着服务器会从它自己的数据端口（20）连接到客户端指定的数据端口（N+1）。</p>
<h1 id="FTP被动模式："><a href="#FTP被动模式：" class="headerlink" title="FTP被动模式："></a>FTP被动模式：</h1><p>客户端从一个任意的非特权端口N（N&gt;1024）连接到FTP服务器的port 21命令端口。然后客户端开始监听端口N+1，同时客户端提交 PASV命令。服务器会开启一个任意的非特权端口（P &gt;1024），并发送PORT P命令给客户端。然后客户端发起从本地端口N+1到服务器的端口P的连接用来传送数据。</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Alexis (KangJ)</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://programmer996.club/2020/03/22/Linux%E5%85%A5%E9%97%A8-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/">https://programmer996.club/2020/03/22/Linux%E5%85%A5%E9%97%A8-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><button class="reward-button" type="button"><i class="fas fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/images/pay.jpg" alt="wechat" onclick="window.open('/images/pay.jpg')"/><div class="post-qr-code__desc">wechat</div></li></ul></div></button></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/03/22/Linux-Shell%E7%BC%96%E7%A8%8B-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"><img class="prev-cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Linux Shell编程-基础教程</div></div></a></div><div class="next-post pull-right"><a href="/2020/03/21/Flask-PYTHON-Web%E6%A1%86%E6%9E%B6/"><img class="next-cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Flask-PYTHON Web框架</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/03/22/Linux-Shell编程-基础教程/" title="Linux Shell编程-基础教程"><img class="relatedPosts_cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-03-22</div><div class="relatedPosts_title">Linux Shell编程-基础教程</div></div></a></div><div class="relatedPosts_item"><a href="/2020/03/19/安装常用工具包-LINUX/" title="安装常用工具包-LINUX"><img class="relatedPosts_cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-03-19</div><div class="relatedPosts_title">安装常用工具包-LINUX</div></div></a></div><div class="relatedPosts_item"><a href="/2020/03/19/定时任务-LINUX/" title="定时任务-LINUX"><img class="relatedPosts_cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-03-19</div><div class="relatedPosts_title">定时任务-LINUX</div></div></a></div></div></div></article></main><footer id="footer" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2020 By Alexis (KangJ)</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="icp"><a href="http://www.beian.miit.gov.cn/state/outPortal/loginPortal.action" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>晋ICP备19013202号</span></a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="Increase Font Size"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="Decrease Font Size"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script><script>(function(d, w, c) {
    w.ChatraID = 'KNGoAf4sGNJs6n5zG';
    var s = d.createElement('script');
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments);
    };
    s.async = true;
    s.src = 'https://call.chatra.io/chatra.js';
    if (d.head) d.head.appendChild(s);
})(document, window, 'Chatra');

if (true) {
  var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      Chatra('openChat')
    });
} else {
  if (true) {
    function chatBtnHide () {
      Chatra('hide')
    }
    function chatBtnShow () {
      Chatra('show')
    }
  }
}</script></body></html>